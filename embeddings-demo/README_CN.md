# 理解嵌入向量和向量存储

本项目演示了在AI应用中嵌入向量(Embeddings)和向量存储(Vector Stores)的实际应用。包含了如何生成嵌入向量、存储向量以及执行相似度搜索的示例。

## 什么是嵌入向量?

嵌入向量是数据(文本、图像等)在高维空间中的数值表示。它们能够捕捉数据之间的语义含义和关系,主要用于:
- 相似度搜索
- 推荐系统
- 分类任务
- 信息检索

例如,句子"我喜欢编程"和"我热爱写代码"会有相似的嵌入向量,因为它们表达了相似的含义。

## 向量存储

向量存储是专门设计用于存储和高效搜索嵌入向量的数据库。它们支持:
- 快速相似度搜索
- 最近邻查询
- 语义搜索功能

## 项目结构

```
embeddings-demo/
├── README.md
├── README_CN.md
├── requirements.txt
├── src/
│   ├── text_embeddings.py     # 基础文本嵌入向量生成
│   ├── vector_store.py        # 向量存储操作
│   └── similarity_search.py    # 相似度搜索示例
└── data/
    └── sample_texts.txt       # 示例数据
```

## 开始使用

1. 安装依赖:
```bash
pip install -r requirements.txt
```

2. 运行示例:
```bash
python src/text_embeddings.py  # 生成嵌入向量
python src/vector_store.py     # 存储和检索向量
python src/similarity_search.py # 执行相似度搜索
```

3. 查看可视化结果:
```bash
# 进入src目录
cd src

# 启动简单的HTTP服务器
python -m http.server 8000

# 在浏览器中打开:
# http://localhost:8000/embeddings_visualization.html
# http://localhost:8000/similarity_heatmap.html
```

## 演示的核心概念

1. **嵌入向量生成**
   - 使用现代嵌入模型
   - 处理不同类型的文本
   - 理解嵌入维度

2. **向量存储操作**
   - 高效存储嵌入向量
   - 建立索引以加快检索
   - 基本的增删改查操作

3. **相似度搜索**
   - 余弦相似度
   - 最近邻搜索
   - 语义搜索示例

## 应用场景

1. **语义搜索**
   - 查找语义相似的文档
   - 跨语言搜索能力

2. **内容推荐**
   - 推荐相似文章/产品
   - 查找相关内容

3. **重复检测**
   - 识别相似或重复内容
   - 查找近似重复的文本

## 最佳实践

1. **生成嵌入向量**
   - 选择合适的嵌入维度
   - 必要时进行向量归一化
   - 考虑特定领域/用例

2. **使用向量存储**
   - 为快速检索建立索引
   - 使用适当的相似度度量
   - 考虑可扩展性需求

3. **性能优化**
   - 大数据集的批处理
   - 合适的索引策略
   - 缓存常用向量

## 代码示例说明

1. **text_embeddings.py**
   - 演示如何使用Sentence Transformers生成文本嵌入
   - 包含2D可视化功能
   - 展示基本的相似度计算

2. **vector_store.py**
   - 使用FAISS实现高效向量存储
   - 演示向量的添加和检索
   - 实现最近邻搜索

3. **similarity_search.py**
   - 实现高级相似度搜索功能
   - 包含语义聚类
   - 生成相似度热力图

## 注意事项

- 确保安装了所有必需的依赖
- 对于大规模数据集,建议使用批处理
- 可视化结果将保存为HTML文件,可在浏览器中查看
- 示例使用的是英文文本,但模型支持多语言